(()=>{"use strict";crypto.randomUUID(),console.debug("database-broadcast-worker start");let e=new Worker("".concat("/gestao-financeira","/worker.sql-wasm.js"));e.onerror=e=>console.error("Database worker error: ",e),e.onmessage=e=>{var a;console.debug("sqlJsWorker.onmessage",e),(null==(a=e.data.id)?void 0:a.startsWith("sw-"))?function(e){let{id:a}=e.data,o="".concat(a).split(":")[0];console.log("sendSWMessage",a,o),s[o].receiveChannel.postMessage(e.data)}(e):self.postMessage(e.data)},self.onmessage=s=>{console.debug("self.onmessage",s),e.postMessage(s.data)};let s={},a=new BroadcastChannel("DB_BROADCAST_CHANNEL_SW");a.onmessageerror=e=>{console.error("broadcastChannel.onmessageerror",e)},a.onmessage=a=>{let{id:o,swName:n,sendChannel:r,receiveChannel:t}=a.data;if(console.log("broadcastChannel.onmessage",o,n),"connect"===o){let a=new BroadcastChannel(r),o=new BroadcastChannel(t);a.onmessageerror=e=>{console.error("sendBroadcastChannel.onmessageerror",e)},a.onmessage=s=>{console.debug("sendBroadcastChannel.onmessage",s),e.postMessage(s.data)},s[n]={sendChannel:a,receiveChannel:o}}},console.debug("database-broadcast-worker end")})(),_N_E={};