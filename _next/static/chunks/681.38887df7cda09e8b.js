!function(){"use strict";var e,s;(s=e||(e={})).LOAD_ALL="loadAll",s.CONNECT="connect",crypto.randomUUID(),console.debug("database-broadcast-worker start");let a=new Worker("".concat("","/worker.sql-wasm.js"));a.onerror=e=>console.error("Database worker error: ",e),a.onmessage=e=>{var s;console.debug("sqlJsWorker.onmessage",e),(null===(s=e.data.id)||void 0===s?void 0:s.startsWith("sw-"))?function(e){let{id:s}=e.data,a="".concat(s).split(":")[0];console.log("sendSWMessage",s,a),o[a].receiveChannel.postMessage(e.data)}(e):self.postMessage(e.data)},self.onmessage=e=>{console.debug("self.onmessage",e),a.postMessage(e.data)};let o={},n=new BroadcastChannel("DB_BROADCAST_CHANNEL_SW");n.onmessageerror=e=>{console.error("broadcastChannel.onmessageerror",e)},n.onmessage=e=>{let{id:s,swName:n,sendChannel:r,receiveChannel:t}=e.data;if(console.log("broadcastChannel.onmessage",s,n),"connect"===s){let e=new BroadcastChannel(r),s=new BroadcastChannel(t);e.onmessageerror=e=>{console.error("sendBroadcastChannel.onmessageerror",e)},e.onmessage=e=>{console.debug("sendBroadcastChannel.onmessage",e),a.postMessage(e.data)},o[n]={sendChannel:e,receiveChannel:s}}},console.debug("database-broadcast-worker end")}(),_N_E={};