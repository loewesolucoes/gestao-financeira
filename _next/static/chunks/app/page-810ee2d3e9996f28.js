(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6338:function(e,s,n){Promise.resolve().then(n.bind(n,8836))},620:function(e,s,n){"use strict";n.d(s,{I:function(){return c}});var t=n(7437),a=n(2840),l=n(2151),r=n.n(l);function c(e){let{onChange:s,isNumber:n,groupSymbolLeft:l,groupSymbolRight:c,isPercent:i,value:o,...u}=e,d="number"===e.type||n,m="date"===e.type,f="month"===e.type,x=d?function(e,s){let{isPercent:n}=s;return null==e||isNaN(e.toNumber())?"":n?e.times(100).toNumber():e.toNumber()}(o,{isPercent:i}):m?r()(o).format("YYYY-MM-DD"):f?r()(o).format("YYYY-MM"):o||"",h=(0,t.jsx)("input",{className:"form-control",onChange:function(e){let{value:n}=e.target;(s||function(){})(i?(0,a.Z)(n).div(100):d?(0,a.Z)(n):m?r()(n,"YYYY-MM-DD").toDate():f?r()(n,"YYYY-MM").toDate():n)},value:x,...u});return l||c?(0,t.jsxs)("div",{className:"input-group mb-3",children:[l&&(0,t.jsx)("span",{className:"input-group-text",children:l}),h,c&&(0,t.jsx)("span",{className:"input-group-text",children:c})]}):h}},8836:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return f}});var t=n(7437);n(4612);var a=n(2265),l=n(3930),r=n(5309),c=n(6468),i=n(6274),o=n(620),u=n(1196);function d(){let{isDbOk:e,repository:s}=(0,r.y$)(),[n,l]=(0,a.useState)(new Date),[u,d]=(0,a.useState)(!0),[f,x]=(0,a.useState)({});async function h(){d(!0);let e=await s.totais(n);console.log(e),x(e),d(!1)}(0,a.useEffect)(()=>{document.title="In\xedcio | ".concat("Gest\xe3o financeira")},[]),(0,a.useEffect)(()=>{e&&h()},[e,n]);let{despesas:j,receitas:N,valorEmCaixa:p,transacoesAcumuladaPorMes:v}=f,b=null==N?void 0:N.minus(null==j?void 0:j.abs());return(0,t.jsx)("main",{className:"main container",children:(0,t.jsx)("section",{className:"home m-5",children:u?(0,t.jsx)("section",{className:"cards",children:(0,t.jsx)(c.a,{})}):null==p?(0,t.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhum dado encontrado"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{className:"d-flex flex-column gap-3",children:[(0,t.jsxs)("section",{className:"card border-primary",children:[(0,t.jsx)("h4",{className:"card-header",children:"Caixa Geral"}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Valor em caixa"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:i.C.toCurrency(p)}),(0,t.jsx)("small",{children:i.C.extenso(p)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[(0,t.jsx)("h5",{children:"M\xeas atual"}),(0,t.jsxs)("div",{className:"form-floating",children:[(0,t.jsx)(o.I,{type:"month",className:"form-control",id:"data",placeholder:"M\xeas a aplicar",value:n,onChange:e=>l(e)}),(0,t.jsx)("label",{htmlFor:"data",className:"form-label",children:"M\xeas a aplicar"})]})]})]})]}),(0,t.jsxs)("section",{className:"card border-dark",children:[(0,t.jsx)("h4",{className:"card-header",children:"Caixa Mensal"}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Receitas:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:i.C.toCurrency(N)}),(0,t.jsx)("small",{children:i.C.extenso(N)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Depesas:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:i.C.toCurrency(j)}),(0,t.jsx)("small",{children:i.C.extenso(j)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Sobra:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:i.C.toCurrency(b)}),(0,t.jsx)("small",{children:i.C.extenso(b)})]})]})]})]})]}),(0,t.jsx)("section",{className:"d-flex flex-column gap-3",children:(0,t.jsxs)("section",{className:"card border-info",children:[(0,t.jsx)("h4",{className:"card-header",children:"Restante em caixa por M\xeas"}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(m,{transacoesAcumuladasPorMes:v})})]})})]})})})}function m(e){let{transacoesAcumuladasPorMes:s}=e;return(0,t.jsx)(u.x1,{data:{labels:null==s?void 0:s.map(e=>e.mes),datasets:[{label:"acumulado at\xe9 o mes (R$)",data:null==s?void 0:s.map(e=>e.totalAcumulado)}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})}function f(){return(0,t.jsx)(l.A,{children:(0,t.jsx)(d,{})})}},6274:function(e,s,n){"use strict";n.d(s,{C:function(){return c}});var t=n(2840),a=n(6947),l=n.n(a);let r=new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"});class c{static extenso(e,s){var n;return(e instanceof t.Z&&(e=null==e?void 0:null===(n=e.integerValue())||void 0===n?void 0:n.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":l()(e,s)}static toCurrency(e,s){return("string"==typeof e&&(e=Number(e)),e instanceof t.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":r.format(e)}}},4612:function(){},1196:function(e,s,n){"use strict";n.d(s,{$I:function(){return d},x1:function(){return u}});var t=n(2265),a=n(6136);let l="label";function r(e,s){"function"==typeof e?e(s):e&&(e.current=s)}function c(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,t=[];e.datasets=s.map(s=>{let a=e.datasets.find(e=>e[n]===s[n]);return!a||!s.data||t.includes(a)?{...s}:(t.push(a),Object.assign(a,s),a)})}let i=(0,t.forwardRef)(function(e,s){let{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:u,type:d,data:m,options:f,plugins:x=[],fallbackContent:h,updateMode:j,...N}=e,p=(0,t.useRef)(null),v=(0,t.useRef)(),b=()=>{p.current&&(v.current=new a.kL(p.current,{type:d,data:function(e){var s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,t={labels:[],datasets:[]};return s=e.labels,t.labels=s,c(t,e.datasets,n),t}(m,u),options:f&&{...f},plugins:x}),r(s,v.current))},g=()=>{r(s,null),v.current&&(v.current.destroy(),v.current=null)};return(0,t.useEffect)(()=>{!o&&v.current&&f&&function(e,s){let n=e.options;n&&s&&Object.assign(n,s)}(v.current,f)},[o,f]),(0,t.useEffect)(()=>{if(!o&&v.current){var e,s;e=v.current.config.data,s=m.labels,e.labels=s}},[o,m.labels]),(0,t.useEffect)(()=>{!o&&v.current&&m.datasets&&c(v.current.config.data,m.datasets,u)},[o,m.datasets]),(0,t.useEffect)(()=>{v.current&&(o?(g(),setTimeout(b)):v.current.update(j))},[o,f,m.labels,m.datasets,j]),(0,t.useEffect)(()=>{v.current&&(g(),setTimeout(b))},[d]),(0,t.useEffect)(()=>(b(),()=>g()),[]),t.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:i},N),h)});function o(e,s){return a.kL.register(s),(0,t.forwardRef)((s,n)=>t.createElement(i,Object.assign({},s,{ref:n,type:e})))}let u=o("line",a.ST),d=o("doughnut",a.jI)}},function(e){e.O(0,[674,218,990,935,964,947,156,971,69,744],function(){return e(e.s=6338)}),_N_E=e.O()}]);