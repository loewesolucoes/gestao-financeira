(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2562:function(){},6338:function(e,a,l){Promise.resolve().then(l.bind(l,3823))},620:function(e,a,l){"use strict";l.d(a,{I:function(){return c}});var t=l(7437),s=l(2840),r=l(2151),n=l.n(r),i=l(2265);function c(e){let{onChange:a,isNumber:l,groupSymbolLeft:r,groupSymbolRight:i,isPercent:c,value:d,...u}=e,m="number"===e.type||l,x="date"===e.type,h="month"===e.type,v="textarea"===e.type,f="mdtextarea"===e.type,p="checkbox"===e.type;function N(e){let{value:l,checked:t}=e.target;(a||function(){})(c?(0,s.Z)(l).div(100):m?(0,s.Z)(l):x?n()(l,"YYYY-MM-DD").toDate():h?n()(l,"YYYY-MM").toDate():p?t:l)}let j=m?function(e,a){let{isPercent:l}=a;return null==e||isNaN(e.toNumber())?"":l?e.times(100).toNumber():e.toNumber()}(d,{isPercent:c}):x?n()(d).format("YYYY-MM-DD"):h?n()(d).format("YYYY-MM"):d||"",b=v?(0,t.jsx)("textarea",{className:"form-control",onChange:N,value:j,...u}):(0,t.jsx)("input",{className:"form-control",onChange:N,value:j,...u});return f&&(b=(0,t.jsx)(o,{onChangeInput:N,inputValue:j,otherProps:u})),r||i?(0,t.jsxs)("div",{className:"input-group",children:[r&&(0,t.jsx)("span",{className:"input-group-text",children:r}),b,i&&(0,t.jsx)("span",{className:"input-group-text",children:i})]}):b}function o(e){let{onChangeInput:a,inputValue:s,otherProps:r}=e,n=(0,i.useRef)(null),c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e,t;let r=l(3029);return console.log("HERE",n.current),c.current=new r({element:n.current,spellChecker:!1,autoDownloadFontAwesome:!1,maxHeight:"".concat((null===(e=n.current)||void 0===e?void 0:e.offsetHeight)||200,"px"),maxWidth:"".concat((null===(t=n.current)||void 0===t?void 0:t.offsetWidth)||600,"px"),toolbar:[{name:"bold",action:r.toggleBold,text:"N",title:"Negrito"},{name:"italic",action:r.toggleItalic,text:"I",title:"It\xe1lico"},{name:"heading",action:r.toggleHeadingSmaller,text:"H",title:"T\xedtulo"},"|",{name:"quote",action:r.toggleBlockquote,text:"❝",title:"Cita\xe7\xe3o"},{name:"unordered-list",action:r.toggleUnorderedList,text:"UL",title:"Lista n\xe3o ordenada"},{name:"ordered-list",action:r.toggleOrderedList,text:"OL",title:"Lista ordenada"},"|",{name:"link",action:r.drawLink,text:"\uD83D\uDD17",title:"Inserir link"},{name:"image",action:r.drawImage,text:"\uD83C\uDF06",title:"Inserir imagem"},{name:"table",action:r.drawTable,text:"⏹️",title:"Inserir tabela"},"|",{name:"horizontal-rule",action:r.drawHorizontalRule,text:"↔️",title:"Inserir linha horizontal"},{name:"side-by-side",action:r.toggleSideBySide,text:"\uD83D\uDD00",title:"Lado a lado"},{name:"fullscreen",action:r.toggleFullScreen,text:"⛶",title:"Tela cheia"},"|"]}),c.current.value(s),c.current.codemirror.on("change",()=>{var e;a({target:{value:(null===(e=c.current)||void 0===e?void 0:e.value())||""}})}),()=>{var e;null===(e=c.current)||void 0===e||e.toTextArea(),c.current=null}},[]),(0,i.useEffect)(()=>{null!=c.current&&s!==c.current.value()&&c.current.value(s)},[s]),(0,t.jsx)("textarea",{ref:n,className:"form-control",onChange:a,value:s,...r})}},3823:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return b}});var t=l(7437);l(4612);var s=l(2265),r=l(1799),n=l(5631),i=l(8515),c=l(6468),o=l(6274),d=l(620),u=l(648),m=l(2151),x=l.n(m),h=l(1196);function v(e){let{transacoesAcumuladasPorMes:a}=e;return(0,t.jsx)(h.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"acumulado at\xe9 o mes (R$)",data:null==a?void 0:a.map(e=>e.totalAcumulado)}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,l){return o.C.toCurrency(e)}}}}}})}function f(e){let{transacoesAcumuladasPorMes:a}=e;return(0,t.jsx)(h.$Q,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"receitas (R$)",data:null==a?void 0:a.map(e=>e.receitasMes)},{label:"despesas (-R$)",data:null==a?void 0:a.map(e=>{var a;return null===(a=e.despesasMes)||void 0===a?void 0:a.abs()})}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,l){return o.C.toCurrency(e)}}}}}})}function p(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:l}=(0,u.k)();return(0,t.jsx)(h.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualMes)},{label:"varia\xe7\xe3o trimestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualTrimestral.toNumber()>1e3?0:e.variacaoPercentualTrimestral),hidden:!0},!l&&{label:"varia\xe7\xe3o semestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualSemestral.toNumber()>1e3?0:e.variacaoPercentualSemestral),hidden:!0},!l&&{label:"varia\xe7\xe3o anual (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualAnual.toNumber()>1e3?0:e.variacaoPercentualAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,l){return o.C.toPercent(e)}}}}}})}function N(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:l}=(0,u.k)();return(0,t.jsx)(h.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal",data:null==a?void 0:a.map(e=>e.variacaoMes)},{label:"varia\xe7\xe3o trimestral",data:null==a?void 0:a.map(e=>e.variacaoTrimestral.toNumber()>1e3?0:e.variacaoTrimestral),hidden:!0},!l&&{label:"varia\xe7\xe3o semestral",data:null==a?void 0:a.map(e=>e.variacaoSemestral.toNumber()>1e3?0:e.variacaoSemestral),hidden:!0},!l&&{label:"varia\xe7\xe3o anual",data:null==a?void 0:a.map(e=>e.variacaoAnual.toNumber()>1e3?0:e.variacaoAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,l){return o.C.toCurrency(e)}}}}}})}function j(){let{isDbOk:e,repository:a}=(0,n.y)(),{isMobile:l}=(0,u.k)(),[r,m]=(0,s.useState)(new Date),[h,j]=(0,s.useState)(!0),[b,g]=(0,s.useState)({});async function y(){j(!0);let e=await a.transacoes.totais(r);console.info("load",e);let t=Array.isArray(e.transacoesAcumuladaPorMes)&&e.transacoesAcumuladaPorMes.length>9;l&&t&&e.transacoesAcumuladaPorMes.splice(0,e.transacoesAcumuladaPorMes.length-6),g(e),j(!1)}(0,s.useEffect)(()=>{document.title="In\xedcio | ".concat("Gest\xe3o financeira")},[]),(0,s.useEffect)(()=>{e&&y()},[e,l,r]);let{despesas:C,receitas:M,valorEmCaixa:Y,transacoesAcumuladaPorMes:k,metas:A}=b,D=null==M?void 0:M.minus(null==C?void 0:C.abs());return(0,t.jsx)("main",{className:"main container",children:(0,t.jsx)("section",{className:"home my-3",children:h?(0,t.jsx)("div",{className:"home-loader py-5",children:(0,t.jsx)(c.a,{})}):null==Y?(0,t.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhum dado encontrado"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{className:"card border-primary card-caixa",children:[(0,t.jsx)("h4",{className:"card-header",children:"Caixa Geral"}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Valor em caixa"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:o.C.toCurrency(Y)}),(0,t.jsx)("small",{children:o.C.extenso(Y)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3 mt-3 flex-column flex-xlg-row",children:[(0,t.jsx)("h5",{children:"Escolha um m\xeas"}),(0,t.jsxs)("div",{className:"form-floating",children:[(0,t.jsx)(d.I,{type:"month",className:"form-control",id:"data",placeholder:"M\xeas a aplicar",value:r,onChange:e=>m(e)}),(0,t.jsx)("label",{htmlFor:"data",className:"form-label",children:"M\xeas a aplicar"})]})]})]})]}),(0,t.jsxs)("section",{className:"card border-dark",children:[(0,t.jsxs)("h4",{className:"card-header",children:["Caixa do m\xeas: ",x()(r).format("MMMM YYYY")]}),(0,t.jsx)("div",{className:"card-body",children:null==D?(0,t.jsx)("div",{className:"alert alert-info",role:"alert",children:"M\xeas sem dados"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Receitas:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:o.C.toCurrency(M)}),(0,t.jsx)("small",{children:o.C.extenso(M)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Depesas:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:o.C.toCurrency(C)}),(0,t.jsx)("small",{children:o.C.extenso(C)})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3",children:[(0,t.jsx)("h5",{children:"Sobra:"}),(0,t.jsxs)("div",{className:"d-flex flex-column",children:[(0,t.jsx)("p",{className:"m-0",children:o.C.toCurrency(D)}),(0,t.jsx)("small",{children:o.C.extenso(D)})]})]})]})})]}),(0,t.jsxs)("section",{className:"card border-primary card-metas",children:[(0,t.jsx)("h4",{className:"card-header",children:"Metas"}),(0,t.jsxs)("div",{className:"card-body",children:[(null==A||0===A.length)&&(0,t.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhuma meta cadastrada"}),(0,t.jsx)("ul",{className:"list-group",children:null==A?void 0:A.map((e,a)=>(0,t.jsx)("li",{className:"list-group-item ".concat(null==e.descricao?"list-group-item-info":""," ").concat(e.tipo===i.Y.PESSOAL?"list-group-item-success":"","  ").concat(e.tipo===i.Y.FINANCEIRA?"list-group-item-warning":""),children:(0,t.jsxs)("div",{className:"d-flex w-100 justify-content-between gap-3",children:[(0,t.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,t.jsx)("h6",{children:e.descricao})}),(0,t.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,t.jsx)("small",{children:x()(e.data).format("MMMM YYYY")})})]})},"".concat(e.data,":").concat(e.descricao,":").concat(a)))})]})]}),(0,t.jsxs)("section",{className:"card border-info card-chart",children:[(0,t.jsx)("h4",{className:"card-header",children:"Caixa acumulado m\xeas a m\xeas"}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(v,{transacoesAcumuladasPorMes:k})})]}),(0,t.jsxs)("section",{className:"card border-info card-chart",children:[(0,t.jsx)("h4",{className:"card-header",children:"Balan\xe7o m\xeas a m\xeas"}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(f,{transacoesAcumuladasPorMes:k})})]}),(0,t.jsxs)("section",{className:"card border-info card-chart",children:[(0,t.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o (R$) do caixa m\xeas a m\xeas"}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(N,{transacoesAcumuladasPorMes:k})})]}),(0,t.jsxs)("section",{className:"card border-info card-chart",children:[(0,t.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o percentual (%) do caixa m\xeas a m\xeas"}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(p,{transacoesAcumuladasPorMes:k})})]})]})})})}function b(){return(0,t.jsx)(r.A,{children:(0,t.jsx)(j,{})})}},6274:function(e,a,l){"use strict";l.d(a,{C:function(){return c}});var t=l(2840),s=l(6947),r=l.n(s);let n=new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"}),i=new Intl.NumberFormat("pt-br",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});class c{static bigNumberToNumber(e){let a={...e};return Object.keys(a).forEach(e=>{let l=a[e];l instanceof t.Z?a[e]=null==l?void 0:l.toNumber():"object"==typeof l&&(a[e]=c.bigNumberToNumber(l))}),a}static extenso(e,a){var l;return(e instanceof t.Z&&(e=null==e?void 0:null===(l=e.integerValue())||void 0===l?void 0:l.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":r()(e,a)}static toCurrency(e){return("string"==typeof e&&(e=Number(e)),e instanceof t.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":n.format(e)}static toPercent(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return("string"==typeof e&&(e=Number(e)),e instanceof t.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":(a&&(e/=100),i.format(e))}}},4612:function(){}},function(e){e.O(0,[674,990,960,935,946,29,899,119,971,351,744],function(){return e(e.s=6338)}),_N_E=e.O()}]);