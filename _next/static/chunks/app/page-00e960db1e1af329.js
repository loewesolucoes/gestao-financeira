(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6338:function(e,a,s){Promise.resolve().then(s.bind(s,3823))},3823:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return N}});var l=s(7437);s(4612);var r=s(2265),t=s(2047),n=s(3694),c=s(8034),i=s(6468),o=s(6274),d=s(620),u=s(648),m=s(2151),h=s.n(m),f=s(1196);function x(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(f.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"acumulado at\xe9 o mes (R$)",data:null==a?void 0:a.map(e=>e.totalAcumulado)}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function v(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(f.$Q,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"receitas (R$)",data:null==a?void 0:a.map(e=>e.receitasMes)},{label:"despesas (-R$)",data:null==a?void 0:a.map(e=>{var a;return null===(a=e.despesasMes)||void 0===a?void 0:a.abs()})}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function b(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:s}=(0,u.k)();return(0,l.jsx)(f.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualMes)},{label:"varia\xe7\xe3o trimestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualTrimestral.toNumber()>1e3?0:e.variacaoPercentualTrimestral),hidden:!0},!s&&{label:"varia\xe7\xe3o semestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualSemestral.toNumber()>1e3?0:e.variacaoPercentualSemestral),hidden:!0},!s&&{label:"varia\xe7\xe3o anual (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualAnual.toNumber()>1e3?0:e.variacaoPercentualAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toPercent(e)}}}}}})}function j(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:s}=(0,u.k)();return(0,l.jsx)(f.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal",data:null==a?void 0:a.map(e=>e.variacaoMes)},{label:"varia\xe7\xe3o trimestral",data:null==a?void 0:a.map(e=>e.variacaoTrimestral.toNumber()>1e3?0:e.variacaoTrimestral),hidden:!0},!s&&{label:"varia\xe7\xe3o semestral",data:null==a?void 0:a.map(e=>e.variacaoSemestral.toNumber()>1e3?0:e.variacaoSemestral),hidden:!0},!s&&{label:"varia\xe7\xe3o anual",data:null==a?void 0:a.map(e=>e.variacaoAnual.toNumber()>1e3?0:e.variacaoAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function p(){let{isDbOk:e,repository:a}=(0,n.y)(),{isMobile:s}=(0,u.k)(),[t,m]=(0,r.useState)(new Date),[f,p]=(0,r.useState)(!0),[N,g]=(0,r.useState)({});async function y(){p(!0);let e=await a.transacoes.totais(t);console.info("load",e);let l=Array.isArray(e.transacoesAcumuladaPorMes)&&e.transacoesAcumuladaPorMes.length>9;s&&l&&e.transacoesAcumuladaPorMes.splice(0,e.transacoesAcumuladaPorMes.length-6),g(e),p(!1)}(0,r.useEffect)(()=>{document.title="In\xedcio | ".concat("Gest\xe3o financeira")},[]),(0,r.useEffect)(()=>{e&&y()},[e,s,t]);let{despesas:C,receitas:M,valorEmCaixa:k,transacoesAcumuladaPorMes:A,metas:P}=N,E=null==M?void 0:M.minus(null==C?void 0:C.abs());return(0,l.jsx)("main",{className:"main container",children:(0,l.jsx)("section",{className:"home my-3",children:f?(0,l.jsx)("div",{className:"home-loader py-5",children:(0,l.jsx)(i.a,{})}):null==k?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhum dado encontrado"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{className:"card border-primary card-caixa",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa Geral"}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Valor em caixa"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(k)}),(0,l.jsx)("small",{children:o.C.extenso(k)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3 mt-3 flex-column flex-xlg-row",children:[(0,l.jsx)("h5",{children:"Escolha um m\xeas"}),(0,l.jsxs)("div",{className:"form-floating",children:[(0,l.jsx)(d.I,{type:"month",className:"form-control",id:"data",placeholder:"M\xeas a aplicar",value:t,onChange:e=>m(e)}),(0,l.jsx)("label",{htmlFor:"data",className:"form-label",children:"M\xeas a aplicar"})]})]})]})]}),(0,l.jsxs)("section",{className:"card border-dark",children:[(0,l.jsxs)("h4",{className:"card-header",children:["Caixa do m\xeas: ",h()(t).format("MMMM YYYY")]}),(0,l.jsx)("div",{className:"card-body",children:null==E?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"M\xeas sem dados"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Receitas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(M)}),(0,l.jsx)("small",{children:o.C.extenso(M)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Depesas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(C)}),(0,l.jsx)("small",{children:o.C.extenso(C)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Sobra:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(E)}),(0,l.jsx)("small",{children:o.C.extenso(E)})]})]})]})})]}),(0,l.jsxs)("section",{className:"card border-primary card-metas",children:[(0,l.jsx)("h4",{className:"card-header",children:"Metas"}),(0,l.jsxs)("div",{className:"card-body",children:[(null==P||0===P.length)&&(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhuma meta cadastrada"}),(0,l.jsx)("ul",{className:"list-group",children:null==P?void 0:P.map((e,a)=>(0,l.jsx)("li",{className:"list-group-item ".concat(null==e.descricao?"list-group-item-info":""," ").concat(e.tipo===c.Yl.PESSOAL?"list-group-item-success":"","  ").concat(e.tipo===c.Yl.FINANCEIRA?"list-group-item-warning":""),children:(0,l.jsxs)("div",{className:"d-flex w-100 justify-content-between gap-3",children:[(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("h6",{children:e.descricao})}),(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("small",{children:h()(e.data).format("MMMM YYYY")})})]})},"".concat(e.data,":").concat(e.descricao,":").concat(a)))})]})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(x,{transacoesAcumuladasPorMes:A})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Balan\xe7o m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(v,{transacoesAcumuladasPorMes:A})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o (R$) do caixa m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(j,{transacoesAcumuladasPorMes:A})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o percentual (%) do caixa m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(b,{transacoesAcumuladasPorMes:A})})]})]})})})}function N(){return(0,l.jsx)(t.A,{children:(0,l.jsx)(p,{})})}},6274:function(e,a,s){"use strict";s.d(a,{C:function(){return i}});var l=s(2840),r=s(6947),t=s.n(r);let n=new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"}),c=new Intl.NumberFormat("pt-br",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});class i{static bigNumberToNumber(e){let a={...e};return Object.keys(a).forEach(e=>{let s=a[e];s instanceof l.Z?a[e]=null==s?void 0:s.toNumber():"object"==typeof s&&(a[e]=i.bigNumberToNumber(s))}),a}static extenso(e,a){var s;return(e instanceof l.Z&&(e=null==e?void 0:null===(s=e.integerValue())||void 0===s?void 0:s.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":t()(e,a)}static toCurrency(e){return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":n.format(e)}static toPercent(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":(a&&(e/=100),c.format(e))}}},4612:function(){},1196:function(e,a,s){"use strict";s.d(a,{$I:function(){return m},$Q:function(){return u},x1:function(){return d}});var l=s(2265),r=s(6136);let t="label";function n(e,a){"function"==typeof e?e(a):e&&(e.current=a)}function c(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,l=[];e.datasets=a.map(a=>{let r=e.datasets.find(e=>e[s]===a[s]);return!r||!a.data||l.includes(r)?{...a}:(l.push(r),Object.assign(r,a),r)})}let i=(0,l.forwardRef)(function(e,a){let{height:s=150,width:i=300,redraw:o=!1,datasetIdKey:d,type:u,data:m,options:h,plugins:f=[],fallbackContent:x,updateMode:v,...b}=e,j=(0,l.useRef)(null),p=(0,l.useRef)(),N=()=>{j.current&&(p.current=new r.kL(j.current,{type:u,data:function(e){var a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,l={labels:[],datasets:[]};return a=e.labels,l.labels=a,c(l,e.datasets,s),l}(m,d),options:h&&{...h},plugins:f}),n(a,p.current))},g=()=>{n(a,null),p.current&&(p.current.destroy(),p.current=null)};return(0,l.useEffect)(()=>{!o&&p.current&&h&&function(e,a){let s=e.options;s&&a&&Object.assign(s,a)}(p.current,h)},[o,h]),(0,l.useEffect)(()=>{if(!o&&p.current){var e,a;e=p.current.config.data,a=m.labels,e.labels=a}},[o,m.labels]),(0,l.useEffect)(()=>{!o&&p.current&&m.datasets&&c(p.current.config.data,m.datasets,d)},[o,m.datasets]),(0,l.useEffect)(()=>{p.current&&(o?(g(),setTimeout(N)):p.current.update(v))},[o,h,m.labels,m.datasets,v]),(0,l.useEffect)(()=>{p.current&&(g(),setTimeout(N))},[u]),(0,l.useEffect)(()=>(N(),()=>g()),[]),l.createElement("canvas",Object.assign({ref:j,role:"img",height:s,width:i},b),x)});function o(e,a){return r.kL.register(a),(0,l.forwardRef)((a,s)=>l.createElement(i,Object.assign({},a,{ref:s,type:e})))}let d=o("line",r.ST),u=o("bar",r.vn),m=o("doughnut",r.jI)}},function(e){e.O(0,[674,990,960,218,935,764,29,181,947,47,911,971,351,744],function(){return e(e.s=6338)}),_N_E=e.O()}]);