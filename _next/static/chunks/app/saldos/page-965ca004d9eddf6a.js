(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{8773:function(e,a,l){Promise.resolve().then(l.bind(l,6135))},7644:function(e,a,l){"use strict";l.d(a,{w:function(){return r}});var n=l(7437),s=l(8034);let t=[{title:"ultimo mes",value:s.Jd.ULTIMO_MES},{title:"3 ultimos meses",value:s.Jd.TRES_ULTIMOS_MESES},{title:"6 ultimos meses",value:s.Jd.SEIS_ULTIMOS_MESES},{title:"ultimo ano",value:s.Jd.ULTIMO_ANO},{title:"todo historico",value:s.Jd.TODO_HISTORICO}];function r(e){let{onChange:a,value:l}=e;return(0,n.jsxs)("form",{className:"periodo-form card",children:[(0,n.jsx)("h5",{className:"card-header",children:"Escolha o periodo"}),(0,n.jsx)("div",{className:"d-xl-none my-3 px-3",children:(0,n.jsx)("select",{className:"form-select",id:"tipoReceita",onChange:e=>a(Number(e.target.value)),defaultValue:l,children:t.map((e,a)=>(0,n.jsx)("option",{value:e.value,children:e.title},e.value))})}),(0,n.jsx)("div",{className:"d-none d-xl-flex btn-group my-3 px-3",children:t.map((e,s)=>(0,n.jsxs)("label",{className:"btn btn-outline-secondary ".concat(e.value===l&&"active"),htmlFor:"periodosTransacoes".concat(s),children:[(0,n.jsx)("input",{type:"radio",className:"btn-check",name:"periodosTransacoes",id:"periodosTransacoes".concat(s),value:e.value,onChange:e=>a(Number(e.target.value)),checked:e.value===l}),e.title]},e.value))})]})}},5507:function(e,a,l){"use strict";l.d(a,{m:function(){return c}});var n=l(7437),s=l(8034),t=l(620),r=l(2265),o=l(2840),i=l(5309);function c(e){let{transacao:a,cleanStyle:l,onClose:c,onCustomSubmit:u,onCustomDelete:m,tableName:x}=e,{isDbOk:h,repository:f,refresh:p}=(0,i.y$)(),[v,j]=(0,r.useState)((null==a?void 0:a.valor)||(0,o.Z)()),[N,b]=(0,r.useState)((null==a?void 0:a.data)||new Date),[g,S]=(0,r.useState)(null==a?void 0:a.tipo),[y,C]=(0,r.useState)(null==a?void 0:a.local),[w,O]=(0,r.useState)(null==a?void 0:a.comentario),[M,E]=(0,r.useState)(!1),Y=x||s.H$.TRANSACOES;async function D(e){e.preventDefault(),E(!0);let l={...a,valor:v,data:N,tipo:g,local:y,comentario:w};Y===s.H$.SALDOS&&delete l.tipo,null==u?(console.info("onSubmitForm",await f.save(Y,l)),await p()):u(l),E(!1),c&&c()}async function I(){if(E(!0),null==a)throw Error("transacao invalida");null==m?(console.info("onDelete",await f.delete(Y,a.id)),p()):m(a),E(!1),c&&c()}return(0,n.jsxs)("form",{className:"transacao-form w-100 ".concat(!l&&"card"),onSubmit:D,children:[!l&&(0,n.jsx)("h5",{className:"card-header",children:"Adicione uma nova transa\xe7\xe3o"}),(0,n.jsxs)("div",{className:"d-flex flex-column px-3 py-2 gap-3",children:[(0,n.jsxs)("div",{className:"d-flex gap-3 flex-column flex-md-row w-100",children:[(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("label",{htmlFor:"local",className:"form-label",children:"Local"}),(0,n.jsx)(t.I,{type:"text",className:"form-control",id:"local",onChange:e=>C(e),value:y,placeholder:"Local"})]}),(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("label",{htmlFor:"comentario",className:"form-label",children:"Comentario (OBS)"}),(0,n.jsx)(t.I,{type:"text",className:"form-control",id:"comentario",onChange:e=>O(e),value:w,placeholder:"Comentario (OBS)"})]})]}),(0,n.jsxs)("div",{className:"d-flex gap-3 flex-column flex-md-row w-100",children:[(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("label",{htmlFor:"valorAplicado",className:"form-label",children:"Valor aplicado"}),(0,n.jsx)(t.I,{type:"number",className:"form-control",id:"valorAplicado",groupSymbolLeft:"R$",onChange:e=>j(e),value:v})]}),(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("label",{htmlFor:"data",className:"form-label",children:"Data"}),(0,n.jsx)(t.I,{type:"date",className:"form-control",id:"data",onChange:e=>b(e),value:N})]}),Y!==s.H$.SALDOS?(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("label",{htmlFor:"tipoReceita",className:"form-label",children:"Tipo de receita"}),(0,n.jsxs)("select",{className:"form-select",id:"tipoReceita",onChange:e=>S(Number(e.target.value)),defaultValue:g,children:[(0,n.jsx)("option",{value:s.$P.VARIAVEL,children:"Vari\xe1vel"}),(0,n.jsx)("option",{value:s.$P.FIXO,children:"Fixo"})]})]}):null]}),(0,n.jsx)(d,{isAllLoading:!h||M,transacao:a,onClose:c,onDelete:I})]})]})}function d(e){let{isAllLoading:a,transacao:l,onClose:s,onDelete:t}=e,r="Adicionar";return null!=l&&(r="Salvar"),(0,n.jsxs)("div",{className:"d-flex gap-2 justify-content-end",children:[s&&(0,n.jsx)("button",{type:"button",onClick:s,className:"btn btn-secondary align-self-end mt-2",disabled:a,children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),(0,n.jsxs)("span",{role:"status",children:[" ","Carregando..."]})]}):"Fechar"}),l&&t&&(0,n.jsx)("button",{type:"button",onClick:t,className:"btn btn-danger align-self-end mt-2",disabled:a,children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),(0,n.jsxs)("span",{role:"status",children:[" ","Carregando..."]})]}):"Remover"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary align-self-end mt-2",disabled:a,children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm","aria-hidden":"true"}),(0,n.jsxs)("span",{role:"status",children:[" ","Carregando..."]})]}):r})]})}},620:function(e,a,l){"use strict";l.d(a,{I:function(){return o}});var n=l(7437),s=l(2840),t=l(2151),r=l.n(t);function o(e){let{onChange:a,isNumber:l,groupSymbolLeft:t,groupSymbolRight:o,isPercent:i,value:c,...d}=e,u="number"===e.type||l,m="date"===e.type,x="month"===e.type,h=u?function(e,a){let{isPercent:l}=a;return null==e||isNaN(e.toNumber())?"":l?e.times(100).toNumber():e.toNumber()}(c,{isPercent:i}):m?r()(c).format("YYYY-MM-DD"):x?r()(c).format("YYYY-MM"):c||"",f=(0,n.jsx)("input",{className:"form-control",onChange:function(e){let{value:l}=e.target;(a||function(){})(i?(0,s.Z)(l).div(100):u?(0,s.Z)(l):m?r()(l,"YYYY-MM-DD").toDate():x?r()(l,"YYYY-MM").toDate():l)},value:h,...d});return t||o?(0,n.jsxs)("div",{className:"input-group mb-3",children:[t&&(0,n.jsx)("span",{className:"input-group-text",children:t}),f,o&&(0,n.jsx)("span",{className:"input-group-text",children:o})]}):f}},6135:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return d}});var n=l(7437);l(8232);var s=l(3930),t=l(7644),r=l(5507),o=l(8034),i=l(2265);function c(){let[e,a]=(0,i.useState)(o.Jd.ULTIMO_MES);return(0,i.useEffect)(()=>{document.title="Saldos | ".concat(document.title)},[]),(0,n.jsxs)("main",{className:"saldos container mt-3",children:[(0,n.jsx)("h1",{children:"Saldos"}),(0,n.jsx)("article",{className:"transacoes",children:(0,n.jsxs)("section",{className:"forms",children:[(0,n.jsx)(t.w,{onChange:e=>a(e),value:e}),(0,n.jsx)(r.m,{tableName:o.H$.SALDOS})]})})]})}function d(){return(0,n.jsx)(s.A,{children:(0,n.jsx)(c,{})})}},8232:function(){}},function(e){e.O(0,[674,218,990,935,964,156,971,69,744],function(){return e(e.s=8773)}),_N_E=e.O()}]);