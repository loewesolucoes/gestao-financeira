(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6338:function(e,a,s){Promise.resolve().then(s.bind(s,8836))},620:function(e,a,s){"use strict";s.d(a,{I:function(){return c}});var l=s(7437),r=s(2840),n=s(2151),t=s.n(n);function c(e){let{onChange:a,isNumber:s,groupSymbolLeft:n,groupSymbolRight:c,isPercent:i,value:d,...o}=e,u="number"===e.type||s,m="date"===e.type,x="month"===e.type,h="textarea"===e.type;function f(e){let{value:s}=e.target;(a||function(){})(i?(0,r.Z)(s).div(100):u?(0,r.Z)(s):m?t()(s,"YYYY-MM-DD").toDate():x?t()(s,"YYYY-MM").toDate():s)}let j=u?function(e,a){let{isPercent:s}=a;return null==e||isNaN(e.toNumber())?"":s?e.times(100).toNumber():e.toNumber()}(d,{isPercent:i}):m?t()(d).format("YYYY-MM-DD"):x?t()(d).format("YYYY-MM"):d||"",N=h?(0,l.jsx)("textarea",{className:"form-control",onChange:f,value:j,...o}):(0,l.jsx)("input",{className:"form-control",onChange:f,value:j,...o});return n||c?(0,l.jsxs)("div",{className:"input-group mb-3",children:[n&&(0,l.jsx)("span",{className:"input-group-text",children:n}),N,c&&(0,l.jsx)("span",{className:"input-group-text",children:c})]}):N}},8836:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return v}});var l=s(7437);s(4612);var r=s(2265),n=s(2047),t=s(5309),c=s(8034),i=s(6468),d=s(6274),o=s(620),u=s(1196),m=s(648),x=s(2151),h=s.n(x);function f(){let{isDbOk:e,repository:a}=(0,t.y$)(),{isMobile:s}=(0,m.k)(),[n,u]=(0,r.useState)(new Date),[x,f]=(0,r.useState)(!0),[v,b]=(0,r.useState)({});async function g(){f(!0);let e=await a.totais(n);console.info("load",e);let l=Array.isArray(e.transacoesAcumuladaPorMes)&&e.transacoesAcumuladaPorMes.length>9;s&&l&&e.transacoesAcumuladaPorMes.splice(0,e.transacoesAcumuladaPorMes.length-6),b(e),f(!1)}(0,r.useEffect)(()=>{document.title="In\xedcio | ".concat("Gest\xe3o financeira")},[]),(0,r.useEffect)(()=>{e&&g()},[e,s,n]);let{despesas:y,receitas:C,valorEmCaixa:M,transacoesAcumuladaPorMes:P,metas:Y}=v,A=null==C?void 0:C.minus(null==y?void 0:y.abs()),E=0==(null!=P?P:[]).length?{}:P[P.length-1];return(0,l.jsx)("main",{className:"main container",children:(0,l.jsx)("section",{className:"home my-3",children:x?(0,l.jsx)("section",{className:"cards",children:(0,l.jsx)(i.a,{})}):null==M?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhum dado encontrado"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{className:"card border-primary card-caixa",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa Geral"}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Valor em caixa"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:d.C.toCurrency(M)}),(0,l.jsx)("small",{children:d.C.extenso(M)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3 mt-3 flex-column flex-xlg-row",children:[(0,l.jsx)("h5",{children:"Escolha um m\xeas"}),(0,l.jsxs)("div",{className:"form-floating",children:[(0,l.jsx)(o.I,{type:"month",className:"form-control",id:"data",placeholder:"M\xeas a aplicar",value:n,onChange:e=>u(e)}),(0,l.jsx)("label",{htmlFor:"data",className:"form-label",children:"M\xeas a aplicar"})]})]})]})]}),(0,l.jsxs)("section",{className:"card border-dark",children:[(0,l.jsxs)("h4",{className:"card-header",children:["Caixa do m\xeas: ",h()(n).format("MMMM YYYY")]}),(0,l.jsx)("div",{className:"card-body",children:null==A?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"M\xeas sem dados"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Receitas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:d.C.toCurrency(C)}),(0,l.jsx)("small",{children:d.C.extenso(C)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Depesas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:d.C.toCurrency(y)}),(0,l.jsx)("small",{children:d.C.extenso(y)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Sobra:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:d.C.toCurrency(A)}),(0,l.jsx)("small",{children:d.C.extenso(A)})]})]})]})})]}),(0,l.jsxs)("section",{className:"card border-primary card-metas",children:[(0,l.jsx)("h4",{className:"card-header",children:"Metas"}),(0,l.jsxs)("div",{className:"card-body",children:[(null==Y||0===Y.length)&&(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhuma meta cadastrada"}),(0,l.jsx)("ul",{className:"list-group",children:null==Y?void 0:Y.map((e,a)=>(0,l.jsx)("li",{className:"list-group-item ".concat(null==e.descricao?"list-group-item-info":""," ").concat(e.tipo===c.Yl.PESSOAL?"list-group-item-success":"","  ").concat(e.tipo===c.Yl.FINANCEIRA?"list-group-item-warning":""),children:(0,l.jsxs)("div",{className:"d-flex w-100 justify-content-between gap-3",children:[(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("h6",{children:e.descricao})}),(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("small",{children:h()(e.data).format("MMMM YYYY")})})]})},"".concat(e.data,":").concat(e.descricao,":").concat(a)))})]})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(j,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Balan\xe7o m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(N,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o do caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(p,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-dark card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xf5es percentual at\xe9 o m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:null==E?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"M\xeas sem dados"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Varia\xe7\xe3o m\xeas:"}),(0,l.jsx)("div",{className:"d-flex flex-column",children:(0,l.jsx)("p",{children:d.C.toPercent(E.variacaoPercentualMes)})})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Varia\xe7\xe3o trimestral:"}),(0,l.jsx)("div",{className:"d-flex flex-column",children:(0,l.jsx)("p",{children:d.C.toPercent(E.variacaoPercentualTrimestral)})})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Varia\xe7\xe3o semestral:"}),(0,l.jsx)("div",{className:"d-flex flex-column",children:(0,l.jsx)("p",{children:d.C.toPercent(E.variacaoPercentualSemestral)})})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Varia\xe7\xe3o anual:"}),(0,l.jsx)("div",{className:"d-flex flex-column",children:(0,l.jsx)("p",{children:d.C.toPercent(E.variacaoPercentualAnual)})})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Varia\xe7\xe3o 3 anos:"}),(0,l.jsx)("div",{className:"d-flex flex-column",children:(0,l.jsx)("p",{children:d.C.toPercent(E.variacaoPercentualTresAnos)})})]})]})})]})]})})})}function j(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(u.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"acumulado at\xe9 o mes (R$)",data:null==a?void 0:a.map(e=>e.totalAcumulado)}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return d.C.toCurrency(e)}}}}}})}function N(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(u.$Q,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"receitas (R$)",data:null==a?void 0:a.map(e=>e.receitasMes)},{label:"despesas (-R$)",data:null==a?void 0:a.map(e=>e.despesasMes.abs())}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return d.C.toCurrency(e)}}}}}})}function p(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(u.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualMes)},{label:"varia\xe7\xe3o trimestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualTrimestral.toNumber()>1e3?0:e.variacaoPercentualTrimestral),hidden:!0},{label:"varia\xe7\xe3o semestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualSemestral.toNumber()>1e3?0:e.variacaoPercentualSemestral),hidden:!0},{label:"varia\xe7\xe3o anual (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualAnual.toNumber()>1e3?0:e.variacaoPercentualAnual),hidden:!0}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return"% "+e}}}}}})}function v(){return(0,l.jsx)(n.A,{children:(0,l.jsx)(f,{})})}},6274:function(e,a,s){"use strict";s.d(a,{C:function(){return i}});var l=s(2840),r=s(6947),n=s.n(r);let t=new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"}),c=new Intl.NumberFormat("pt-br",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});class i{static extenso(e,a){var s;return(e instanceof l.Z&&(e=null==e?void 0:null===(s=e.integerValue())||void 0===s?void 0:s.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":n()(e,a)}static toCurrency(e){return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":t.format(e)}static toPercent(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":(a&&(e/=100),c.format(e))}}},4612:function(){},1196:function(e,a,s){"use strict";s.d(a,{$I:function(){return m},$Q:function(){return u},x1:function(){return o}});var l=s(2265),r=s(6136);let n="label";function t(e,a){"function"==typeof e?e(a):e&&(e.current=a)}function c(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,l=[];e.datasets=a.map(a=>{let r=e.datasets.find(e=>e[s]===a[s]);return!r||!a.data||l.includes(r)?{...a}:(l.push(r),Object.assign(r,a),r)})}let i=(0,l.forwardRef)(function(e,a){let{height:s=150,width:i=300,redraw:d=!1,datasetIdKey:o,type:u,data:m,options:x,plugins:h=[],fallbackContent:f,updateMode:j,...N}=e,p=(0,l.useRef)(null),v=(0,l.useRef)(),b=()=>{p.current&&(v.current=new r.kL(p.current,{type:u,data:function(e){var a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,l={labels:[],datasets:[]};return a=e.labels,l.labels=a,c(l,e.datasets,s),l}(m,o),options:x&&{...x},plugins:h}),t(a,v.current))},g=()=>{t(a,null),v.current&&(v.current.destroy(),v.current=null)};return(0,l.useEffect)(()=>{!d&&v.current&&x&&function(e,a){let s=e.options;s&&a&&Object.assign(s,a)}(v.current,x)},[d,x]),(0,l.useEffect)(()=>{if(!d&&v.current){var e,a;e=v.current.config.data,a=m.labels,e.labels=a}},[d,m.labels]),(0,l.useEffect)(()=>{!d&&v.current&&m.datasets&&c(v.current.config.data,m.datasets,o)},[d,m.datasets]),(0,l.useEffect)(()=>{v.current&&(d?(g(),setTimeout(b)):v.current.update(j))},[d,x,m.labels,m.datasets,j]),(0,l.useEffect)(()=>{v.current&&(g(),setTimeout(b))},[u]),(0,l.useEffect)(()=>(b(),()=>g()),[]),l.createElement("canvas",Object.assign({ref:p,role:"img",height:s,width:i},N),f)});function d(e,a){return r.kL.register(a),(0,l.forwardRef)((a,s)=>l.createElement(i,Object.assign({},a,{ref:s,type:e})))}let o=d("line",r.ST),u=d("bar",r.vn),m=d("doughnut",r.jI)}},function(e){e.O(0,[674,218,990,935,964,947,44,971,364,744],function(){return e(e.s=6338)}),_N_E=e.O()}]);