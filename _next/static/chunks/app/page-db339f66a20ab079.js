(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6338:function(e,a,s){Promise.resolve().then(s.bind(s,3823))},620:function(e,a,s){"use strict";s.d(a,{I:function(){return c}});var l=s(7437),r=s(2840),t=s(2151),n=s.n(t);function c(e){let{onChange:a,isNumber:s,groupSymbolLeft:t,groupSymbolRight:c,isPercent:i,value:o,...d}=e,u="number"===e.type||s,m="date"===e.type,h="month"===e.type,x="textarea"===e.type;function f(e){let{value:s}=e.target;(a||function(){})(i?(0,r.Z)(s).div(100):u?(0,r.Z)(s):m?n()(s,"YYYY-MM-DD").toDate():h?n()(s,"YYYY-MM").toDate():s)}let v=u?function(e,a){let{isPercent:s}=a;return null==e||isNaN(e.toNumber())?"":s?e.times(100).toNumber():e.toNumber()}(o,{isPercent:i}):m?n()(o).format("YYYY-MM-DD"):h?n()(o).format("YYYY-MM"):o||"",p=x?(0,l.jsx)("textarea",{className:"form-control",onChange:f,value:v,...d}):(0,l.jsx)("input",{className:"form-control",onChange:f,value:v,...d});return t||c?(0,l.jsxs)("div",{className:"input-group mb-3",children:[t&&(0,l.jsx)("span",{className:"input-group-text",children:t}),p,c&&(0,l.jsx)("span",{className:"input-group-text",children:c})]}):p}},3823:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return b}});var l=s(7437);s(4612);var r=s(2265),t=s(2047),n=s(5309),c=s(8034),i=s(6468),o=s(6274),d=s(620),u=s(648),m=s(2151),h=s.n(m),x=s(1196);function f(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(x.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"acumulado at\xe9 o mes (R$)",data:null==a?void 0:a.map(e=>e.totalAcumulado)}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function v(e){let{transacoesAcumuladasPorMes:a}=e;return(0,l.jsx)(x.$Q,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"receitas (R$)",data:null==a?void 0:a.map(e=>e.receitasMes)},{label:"despesas (-R$)",data:null==a?void 0:a.map(e=>e.despesasMes.abs())}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function p(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:s}=(0,u.k)();return(0,l.jsx)(x.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualMes)},{label:"varia\xe7\xe3o trimestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualTrimestral.toNumber()>1e3?0:e.variacaoPercentualTrimestral),hidden:!0},!s&&{label:"varia\xe7\xe3o semestral (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualSemestral.toNumber()>1e3?0:e.variacaoPercentualSemestral),hidden:!0},!s&&{label:"varia\xe7\xe3o anual (%)",data:null==a?void 0:a.map(e=>e.variacaoPercentualAnual.toNumber()>1e3?0:e.variacaoPercentualAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toPercent(e)}}}}}})}function N(e){let{transacoesAcumuladasPorMes:a}=e,{isMobile:s}=(0,u.k)();return(0,l.jsx)(x.x1,{data:{labels:null==a?void 0:a.map(e=>e.mes),datasets:[{label:"varia\xe7\xe3o mensal",data:null==a?void 0:a.map(e=>e.variacaoMes)},{label:"varia\xe7\xe3o trimestral",data:null==a?void 0:a.map(e=>e.variacaoTrimestral.toNumber()>1e3?0:e.variacaoTrimestral),hidden:!0},!s&&{label:"varia\xe7\xe3o semestral",data:null==a?void 0:a.map(e=>e.variacaoSemestral.toNumber()>1e3?0:e.variacaoSemestral),hidden:!0},!s&&{label:"varia\xe7\xe3o anual",data:null==a?void 0:a.map(e=>e.variacaoAnual.toNumber()>1e3?0:e.variacaoAnual),hidden:!0}].filter(Boolean)},options:{responsive:!0,plugins:{legend:{position:"bottom"}},scales:{y:{ticks:{callback:function(e,a,s){return o.C.toCurrency(e)}}}}}})}function j(){let{isDbOk:e,repository:a}=(0,n.y$)(),{isMobile:s}=(0,u.k)(),[t,m]=(0,r.useState)(new Date),[x,j]=(0,r.useState)(!0),[b,g]=(0,r.useState)({});async function y(){j(!0);let e=await a.totais(t);console.info("load",e);let l=Array.isArray(e.transacoesAcumuladaPorMes)&&e.transacoesAcumuladaPorMes.length>9;s&&l&&e.transacoesAcumuladaPorMes.splice(0,e.transacoesAcumuladaPorMes.length-6),g(e),j(!1)}(0,r.useEffect)(()=>{document.title="In\xedcio | ".concat("Gest\xe3o financeira")},[]),(0,r.useEffect)(()=>{e&&y()},[e,s,t]);let{despesas:M,receitas:C,valorEmCaixa:Y,transacoesAcumuladaPorMes:P,metas:A}=b,k=null==C?void 0:C.minus(null==M?void 0:M.abs());return(0,l.jsx)("main",{className:"main container",children:(0,l.jsx)("section",{className:"home my-3",children:x?(0,l.jsx)("div",{className:"home-loader py-5",children:(0,l.jsx)(i.a,{})}):null==Y?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhum dado encontrado"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{className:"card border-primary card-caixa",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa Geral"}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Valor em caixa"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(Y)}),(0,l.jsx)("small",{children:o.C.extenso(Y)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3 mt-3 flex-column flex-xlg-row",children:[(0,l.jsx)("h5",{children:"Escolha um m\xeas"}),(0,l.jsxs)("div",{className:"form-floating",children:[(0,l.jsx)(d.I,{type:"month",className:"form-control",id:"data",placeholder:"M\xeas a aplicar",value:t,onChange:e=>m(e)}),(0,l.jsx)("label",{htmlFor:"data",className:"form-label",children:"M\xeas a aplicar"})]})]})]})]}),(0,l.jsxs)("section",{className:"card border-dark",children:[(0,l.jsxs)("h4",{className:"card-header",children:["Caixa do m\xeas: ",h()(t).format("MMMM YYYY")]}),(0,l.jsx)("div",{className:"card-body",children:null==k?(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"M\xeas sem dados"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Receitas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(C)}),(0,l.jsx)("small",{children:o.C.extenso(C)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Depesas:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(M)}),(0,l.jsx)("small",{children:o.C.extenso(M)})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3",children:[(0,l.jsx)("h5",{children:"Sobra:"}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("p",{className:"m-0",children:o.C.toCurrency(k)}),(0,l.jsx)("small",{children:o.C.extenso(k)})]})]})]})})]}),(0,l.jsxs)("section",{className:"card border-primary card-metas",children:[(0,l.jsx)("h4",{className:"card-header",children:"Metas"}),(0,l.jsxs)("div",{className:"card-body",children:[(null==A||0===A.length)&&(0,l.jsx)("div",{className:"alert alert-info",role:"alert",children:"Nenhuma meta cadastrada"}),(0,l.jsx)("ul",{className:"list-group",children:null==A?void 0:A.map((e,a)=>(0,l.jsx)("li",{className:"list-group-item ".concat(null==e.descricao?"list-group-item-info":""," ").concat(e.tipo===c.Yl.PESSOAL?"list-group-item-success":"","  ").concat(e.tipo===c.Yl.FINANCEIRA?"list-group-item-warning":""),children:(0,l.jsxs)("div",{className:"d-flex w-100 justify-content-between gap-3",children:[(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("h6",{children:e.descricao})}),(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,l.jsx)("small",{children:h()(e.data).format("MMMM YYYY")})})]})},"".concat(e.data,":").concat(e.descricao,":").concat(a)))})]})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(f,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Balan\xe7o m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(v,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o (R$) do caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(N,{transacoesAcumuladasPorMes:P})})]}),(0,l.jsxs)("section",{className:"card border-info card-chart",children:[(0,l.jsx)("h4",{className:"card-header",children:"Varia\xe7\xe3o percentual (%) do caixa acumulado m\xeas a m\xeas"}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)(p,{transacoesAcumuladasPorMes:P})})]})]})})})}function b(){return(0,l.jsx)(t.A,{children:(0,l.jsx)(j,{})})}},6274:function(e,a,s){"use strict";s.d(a,{C:function(){return i}});var l=s(2840),r=s(6947),t=s.n(r);let n=new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"}),c=new Intl.NumberFormat("pt-br",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});class i{static extenso(e,a){var s;return(e instanceof l.Z&&(e=null==e?void 0:null===(s=e.integerValue())||void 0===s?void 0:s.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":t()(e,a)}static toCurrency(e){return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":n.format(e)}static toPercent(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return("string"==typeof e&&(e=Number(e)),e instanceof l.Z&&(e=null==e?void 0:e.toNumber()),null==e||isNaN(e)||!isFinite(e))?"":(a&&(e/=100),c.format(e))}}},4612:function(){},1196:function(e,a,s){"use strict";s.d(a,{$I:function(){return m},$Q:function(){return u},x1:function(){return d}});var l=s(2265),r=s(6136);let t="label";function n(e,a){"function"==typeof e?e(a):e&&(e.current=a)}function c(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,l=[];e.datasets=a.map(a=>{let r=e.datasets.find(e=>e[s]===a[s]);return!r||!a.data||l.includes(r)?{...a}:(l.push(r),Object.assign(r,a),r)})}let i=(0,l.forwardRef)(function(e,a){let{height:s=150,width:i=300,redraw:o=!1,datasetIdKey:d,type:u,data:m,options:h,plugins:x=[],fallbackContent:f,updateMode:v,...p}=e,N=(0,l.useRef)(null),j=(0,l.useRef)(),b=()=>{N.current&&(j.current=new r.kL(N.current,{type:u,data:function(e){var a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,l={labels:[],datasets:[]};return a=e.labels,l.labels=a,c(l,e.datasets,s),l}(m,d),options:h&&{...h},plugins:x}),n(a,j.current))},g=()=>{n(a,null),j.current&&(j.current.destroy(),j.current=null)};return(0,l.useEffect)(()=>{!o&&j.current&&h&&function(e,a){let s=e.options;s&&a&&Object.assign(s,a)}(j.current,h)},[o,h]),(0,l.useEffect)(()=>{if(!o&&j.current){var e,a;e=j.current.config.data,a=m.labels,e.labels=a}},[o,m.labels]),(0,l.useEffect)(()=>{!o&&j.current&&m.datasets&&c(j.current.config.data,m.datasets,d)},[o,m.datasets]),(0,l.useEffect)(()=>{j.current&&(o?(g(),setTimeout(b)):j.current.update(v))},[o,h,m.labels,m.datasets,v]),(0,l.useEffect)(()=>{j.current&&(g(),setTimeout(b))},[u]),(0,l.useEffect)(()=>(b(),()=>g()),[]),l.createElement("canvas",Object.assign({ref:N,role:"img",height:s,width:i},p),f)});function o(e,a){return r.kL.register(a),(0,l.forwardRef)((a,s)=>l.createElement(i,Object.assign({},a,{ref:s,type:e})))}let d=o("line",r.ST),u=o("bar",r.vn),m=o("doughnut",r.jI)}},function(e){e.O(0,[674,218,990,935,964,947,44,971,364,744],function(){return e(e.s=6338)}),_N_E=e.O()}]);